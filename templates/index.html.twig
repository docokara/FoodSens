{% extends 'base.html.twig' %}

{% block head %}
<!DOCTYPE html>
<html>
<head>
    <html lang="fr-FR">
    <meta charset="UTF-8">
    <title>{% block title %}Food Sens{% endblock %}</title>
        {% block stylesheets %}
         <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
            <link href="/css/style4.css" rel="stylesheet" type="text/css"/>
            <link href="/css/auth.css" rel="stylesheet" type="text/css"/>

            <link rel="preconnect" href="https://fonts.googleapis.com">
        {% endblock %}   
</head>
</html>
{% endblock %}

{% block body %}
<html>
<body>
        
        
        <span class="white_bubble1"></span> <span class="white_bubble1_blur"></span>
        <span class="white_bubble2"></span> <span class="white_bubble2_blur"></span>
        <span class="white_bubble3"></span> <span class="white_bubble3_blur"></span>
        <span class="blue_bubble"></span> <span class="blue_bubble_blur"></span>
        <span class="blue_bubble"></span> <span class="blue_bubble_blur"></span>
        <span class="yellow_bubble"></span> <span class="yellow_bubble_blur"></span>

        <div class="main3">
  
            <div class="main1">
              {{ include('base/nav.html.twig') }}
               
                    <div class="main2">
                    
                    {% if page_name == 'home' %} 
                               {{ include('home/index.html.twig') }}
                    {% elseif page_name == 'searchRecipe' %}
                    {{ include('recipe/index.html.twig')}}
                     {% elseif page_name == 'get_user_profil' %}
                     {{ include('user/getUserProfil.html.twig') }}
                     {% elseif page_name == 'showRecipe' %}
                     {{ include('recipe/showRecipe.html.twig') }}
                     {% elseif page_name == 'myFav' %}
                       {{ include('user/myFav.html.twig') }}
                     {% elseif page_name == 'myFridge' %}
                       {{ include('user/fridge.html.twig') }}
                     {% elseif page_name == 'modifyRecipe' %}
                       {{ include('base/_form.html.twig', {'button_label': "create"}) }}
                      {% elseif page_name == 'admin_page'%}
                      {{ include('admin/index.html.twig') }}
                      {% elseif page_name  == 'admin_page_getAll' %}
                       {{ include('admin/form/index.html.twig') }}
                      {% elseif page_name == 'admin_page_upate' %}
                      {{ include('admin/form/edit.html.twig') }}
                       {% elseif page_name == 'userProfile' %}
                       {{ include('user/index.html.twig') }}
                        {% elseif page_name == 'userProfileEdition' %}
                           <div class="head">
                                <h1> Modification de profil</h1>
                                        Informations : 
                                </div>  
                        {{ include('user/_form.html.twig', {'button_label': "enregistrer"}) }}
                       {% else %}
                     {% endif %}
                    </div>
                    
                    <div class="main4">
                        <div class="profile">
                            Mon Profil
                        {% if app.user %}
                       {{ include('base/logout.html.twig')}}
                        {% else %}
                        <div class="intro">Vous n'êtes pas connecté</div>
                        <div class="intro2">Authentifiez vous dès maintenant !</div>
                        <div class="login_box">
                            <a href="{{ path('app_login') }}"><button class="login">Se Connecter</button></a>
                           <a href="{{ path('app_register') }}"> <button class="login">S'Inscrire</button></a>
                        </div>
                        {% endif %}
                        </div>                   
                    </div>                  
        </div>




<script >//script pour l'anim de texte (je n'ai pas réussi à l'include, ou à rediriger vers /public/js/animText.js .. ça doit être le twig ou jsp)
const ratio=0
const options = {
    root: null,
    rootMargin: '0px',
    threshold: ratio
 }
const handleIntersect = function(entries, observer){
    entries.forEach(function (entry) {
        if(entry.intersectionRatio > ratio){
          entry.target.classList.add('reveal-visible')
          observer.unobserve(entry.target) 
        }
        
    }) 
}

const observer = new IntersectionObserver(handleIntersect, options);
document.querySelectorAll('[class*="reveal-"]').forEach(function (r){
    observer.observe(r)
})</script> 
         

</body>
</html>
{% endblock %}